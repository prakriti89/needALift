<ion-view view-title="Need A Lift">
  <ion-content class="padding">
    <div class="list card">
      <div class="item item-divider">Recent Updates</div>
      <div class="item item-body">
        <div>
          <button class="button button-icon ion-plus" ng-click="createPost()">
          </button>
        </div>
      </div>
    </div>
    <div class="list card" ng-repeat="post in posts | orderBy: 'created_at'" ng-if="post.role!='offer' && !post.acceptPost">
      <div class="item item-divider">{{post.user.displayName}}</div>
      <div class="item item-body">
        <div>
          {{post.fromAddress}}
          {{post.toAddress}}
          {{post.date | date}}
          {{post.time}}
          {{post.message}}
          {{post.role}}
          {{post.created_at | date: 'medium'}}
        </div>
        <div ng-if="post.user.uid != loggedInUserData.$id">
          <button ng-if="!post.acceptPost" ng-click="acceptPost(post)">Accept</button>
        </div>
      </div>
      <div class="item item-divider" ng-if="post.user.uid == loggedInUserData.$id">
       <button ng-click="deletePost(post)">Delete</button>
      </div>
    </div>
  </ion-content>
</ion-view>
